#!/usr/bin/env bash


################################################################################
### Head: Note
##

## * https://github.com/samwhelp/skel-project-plan/blob/gh-pages/demo/sh/project/bin/install.sh

##
### Tail: Note
################################################################################


################################################################################
### Head: Init
##

THE_BASE_DIR_PATH="$(cd -- "$(dirname -- "$0")" ; pwd)"
THE_BASE_DIR_PATH="$THE_BASE_DIR_PATH/../ext"
source "$THE_BASE_DIR_PATH/init.sh"

##
### Tail: Init
################################################################################


################################################################################
### Head: Start
##

main_openbox_xdg_autostart () {
	##
	## * /usr/lib/openbox/openbox-autostart
	## * /usr/lib/openbox/openbox-xdg-autostart
	##

	if ! [ -f "/usr/lib/openbox/openbox-xdg-autostart" ]; then
		return 0
	fi

	/usr/lib/openbox/openbox-xdg-autostart
}

main_xdg_autostart () {

	if [ -f "/usr/lib/openbox/openbox-xdg-autostart" ]; then
		##main_openbox_xdg_autostart ## no needed run this line. on openbox, `/usr/lib/openbox/openbox-xdg-autostart` would be launched by `/usr/lib/openbox/openbox-autostart`
		main_app_upstart_with_xdg_autostart
	else
		main_app_upstart
	fi

}

main_app_upstart_with_xdg_autostart () {

	is_command_exist 'hlwm-up-xsettings' && hlwm-up-xsettings &

	is_command_exist 'hlwm-up-wallpaper' && hlwm-up-wallpaper &

	is_command_exist 'hlwm-up-compositor' && hlwm-up-compositor &

	is_command_exist 'hlwm-up-panel' && hlwm-up-panel &

}

main_app_upstart () {


	is_command_exist 'hlwm-up-xsettings' && hlwm-up-xsettings &

	is_command_exist 'hlwm-up-wallpaper' && hlwm-up-wallpaper &

	is_command_exist 'hlwm-up-compositor' && hlwm-up-compositor &

	is_command_exist 'hlwm-up-panel' && hlwm-up-panel &

	is_command_exist 'hlwm-up-applet' && hlwm-up-applet &

}


main_app_autostart () {

	local use_xdg_autostart="true"

	if [ "is_${use_xdg_autostart}" = "is_true" ]; then
		main_xdg_autostart
	else
		main_app_upstart
	fi

}

##
### Tail: Start
################################################################################



################################################################################
### Head: Main
##

__main__ () {

	#PATH="$HOME/.config/herbstluftwm/bin:$PATH"
	#echo $PATH > /tmp/log.txt

	main_app_autostart

}

__main__

##
### Tail: Main
################################################################################
